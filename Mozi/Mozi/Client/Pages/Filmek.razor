@page "/filmek"
@inject IFilmService FilmService
@inject NavigationManager NavigationManager
@inject ITeremService TeremService
@inject ISzekService SzekService
@inject ISzineszService SzineszService

<PageTitle>Filmek</PageTitle>

<h3>Filmek</h3>

<table class="table">
    <thead>
        <tr>
            <th>Név</th>
            <th>Értékelés</th>
            <th>Gyártó</th>
            <th>Terem</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var film in FilmService.Filmek)
       {
           <tr>
               <td>@film.Nev</td>
               <td>@film.Ertekeles</td>
               <td>@film.Gyarto</td>
               <td> <button class="btn btn-primary" @onclick="(()=>ShowFilm(film.Id))">Info</button></td>
               <td>
               </td>
           </tr>     
       }
    </tbody>
</table>

<h3>Szekek</h3>

<table class="table">
    <thead>
        <tr>
            <th>TeremID</th>
            <th>Szám</th>
            <th>Foglalt?</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var szek in SzekService.Szekek)
       {
           <tr>
               <td>@szek.TeremId</td>
               <td>@szek.Szam</td>
               <td>@szek.Foglalt</td>

               <td> </td>
               <td>
                 
               </td>
           </tr>     
       }
    </tbody>
</table>

<h3>Szinesz</h3>

<table class="table">
    <thead>
        <tr>
            <th>Nev</th>
            <th>Ertekeles</th>
            <th>Kor?</th>
            <th>FilmID</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var szinesz in SzineszService.Szineszek)
       {
           <tr>
               <td>@szinesz.Nev</td>
               <td>@szinesz.Ertekeles</td>
               <td>@szinesz.Kor</td>
               <td>@szinesz.FilmId</td>


               <td> </td>
               <td>
                 
               </td>
           </tr>     
       }
    </tbody>
</table>

<h3>Termek</h3>

<table class="table">
    <thead>
        <tr>
            <th>Terem nev</th>
            <th>Terem id</th>
            <th>Film id</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var terem in TeremService.Termek)
       {
           <tr>
               <td>@terem.TeremNev</td>
               <td>@terem.Id</td>
               <td>@terem.FilmId</td>
               <td> </td>
               <td>                
               </td>
           </tr>     
       }
    </tbody>
</table>



@code {
    protected override async Task OnInitializedAsync()
    {
        await FilmService.GetFilmek();
        await SzineszService.GetSzineszek();
        await SzekService.GetSzekek();
        await TeremService.GetTermek();
    }

    void ShowFilm(int id)
    {
        NavigationManager.NavigateTo($"film/{id}");    
    }
}
